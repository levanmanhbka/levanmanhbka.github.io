---
title: Airflow
date: 2023-12-07 22:34:00 +0800
categories: [MLOPs, Ochestration Tool]
tags: [mlops]     # TAG names should always be lowercase
---

### Worflow
Worflow là một tập hợp nhiều Task theo một trình tự được sắp xếp theo một thứ tự nhất định, phụ thuộc vào từng bài toán cụ thể, Ví dụ work flow trong việc huấn luyện mô hình Machine Learning sẽ như sau: Data Extraction -> Data Validation -> Data Preparation -> Model Training -> Model Evaludation -> Model Validation.

Các workfow sẽ được mô tả, lập lịch hoặc khởi động chạy, theo dõi quá trình thực hiện các Task trong đó bằng một công cụ gọi là Orchestration Tool

### Orchestration Tools Overview
Airflow là một pipeline orchestration tool trong MLOPs, ngoài ra còn có một số tool khác như cron, luigi, airflow, kubeflow, kedro, metaflow, dagster, flyte, prefect, zenml

![Orchestration Tools](/assets/2023-12-07-airflow/orchestration-tools.png){: width="900" height="400" }
_cron, luigi, airflow, kubeflow, kedro, metaflow, dagster, flyte, prefect, and zenml (left to right; top to bottom)_

### Airflow Architecture
![Airflow Arichitecture](/assets/2023-12-07-airflow/arch-diag-basic.png){: width="900" height="400" }
_Airflow Airchitecture_

- DAG Directory: Nơi chứa các file.py định nghĩa các workflow
- Scheduler: Khởi động các worfkow và chuyển các workflow cho Executor thực hiện
- Executor: Thực hiện các Task được mô tả trong workflow
- Worker: Executor có thể thực hiện các Task ngay trong process của Sheduler hoặc gửi các Task cho Worker thực hiện ở một process khác.
- Metada Database: Nơi lưu toàn bộ trạng thái và các thông tin metada của các workflow và các Task
- Webserver: Cung cấp User Interface hiển thị các thông tin về workflow và các Task cũng như có thể khởi động một workflow từ GUI Interface